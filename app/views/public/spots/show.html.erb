<div class = "container">
  <h3><%= @spot.name %></h3>
  <div class = "row">
    <div class = "col">
      <% if @spot.image.attached? %>
        <%= image_tag @spot.image, size: "200x200" %>
      <% else %>
        <%= image_tag 'no_image', size: "200x200" %>
      <% end %>
      <%= @spot.user.nickname %>
      <% if current_user.email != 'guest@example.com' %>
      <% if @spot.favorited_by?(current_user) %>
        <p>
        <%= link_to public_spot_favorites_path(@spot), method: :delete do %>
         ♥<%= @spot.favorites.count %> いいね
        <% end %>
        </p>
      <% else %>
        <p>
        <%= link_to public_spot_favorites_path(@spot), method: :post do %>
        ♡<%= @spot.favorites.count %> いいね
        <% end %>
        </p>
      <% end %>
      <% end %>
    </div>
    <div class = "col">
      <% @spot.tags.each do |tag| %>
        <span><%= tag.name %></span><br />
      <% end %>
      <%= @spot.address %>
    </div>
  </div>
  <%= render 'public/spots/form', post: @post, spot: @spot %>
</div>
<div id='map'></div>
<style>
#map{
  height: 400px;
}
</style>

<script>
function initMap(){
  let map = new google.maps.Map(document.getElementById('map'), {
  center: {lat: -34.397, lng: 150.644},
  zoom: 8
  });
}
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=" async defer></script>
<div class = "container">
  <h3 class = "mb-3">会員情報編集</h3>
  <% @user.children.build %>
  <%= form_with model: @user, url: public_user_path(@user), method: :patch do |s| %>
  <div class="row mb-3">
    <div class = "col-md-2 offset-md-3">
      <%= s.label "ニックネーム" %><br />
    </div>
    <div class = "col">
      <%= s.text_field :nickname, autofocus: true, autocomplete: "nickname", class: "form-control col-md-5" %>
    </div>
  </div>
  <div class="row mb-3">
    <div class = "col-md-2 offset-md-3">
      お子様
    </div>
    <div class = "col">
      <%= s.fields_for :children do |t| %>
        <%= render partial: "public/registrations/child_fields", locals: { f: t } %>
      <% end %>
      <div class="links">
        <%= link_to_add_association "子供を追加", s, :children, partial: "public/registrations/child_fields"%>
      </div>
    </div>
  </div>
  <div class="row mb-3">
    <div class = "col-md-2 offset-md-3">
      <%= s.label "メールアドレス" %>
    </div>
    <div class = "col">
      <%= s.email_field :email, autofocus: true, autocomplete: "email", class: "form-control col-md-5" %>
    </div>
  </div>
  <div class = "row">
    <div class = "offset-md-3">
      <%= s.submit "編集内容を保存", class: "btn btn-success pr-5 pl-5 ml-5" %>
    </div>
    <div class = "col-md-3 offset-md-1">
      <%= link_to "退会する", withdraw_public_users_path, method: :patch, "data-confirm" => "本当に削除しますか？", class: "btn btn-danger pr-4 pl-4" %>
    </div>
  </div>
  <% end %>
</div>